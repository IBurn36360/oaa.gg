{"version":3,"sources":["Core.js"],"names":["Object","setPrototypeOf","obj","proto","__proto__","doc","fireEvent","startingPoint","x","y","endingPoint","touch","touchstart","event","touches","pageX","pageY","touchmove","touchend","createEvent","roundedX","Math","abs","roundedY","max","touchcancel","name","customEvent","document","initCustomEvent","target","dispatchEvent","a","addEventListener","self","promise","test","window","navigator","userAgent","setTimeoutFunc","setTimeout","Promise","prototype","onRejected","this","then","onFulfilled","prom","noop","handle","all","arr","args","Array","slice","call","resolve","reject","length","remaining","res","i","val","ex","value","constructor","race","values","len","_immediateFn","setImmediate","fn","_unhandledRejectionFn","err","console","warn","_setImmediateFn","_setUnhandledRejectionFn","module","exports","TypeError","_state","_handled","_value","undefined","_deferreds","doResolve","deferred","cb","ret","e","push","newValue","finale","thisArg","apply","arguments","done","reason","fetch","support","searchParams","iterable","Symbol","blob","Blob","formData","arrayBuffer","Headers","append","normalizeName","normalizeValue","list","map","get","getAll","has","hasOwnProperty","set","forEach","callback","getOwnPropertyNames","keys","items","iteratorFor","entries","iterator","methods","Request","clone","Body","Response","_bodyInit","status","statusText","headers","url","error","response","type","redirectStatuses","redirect","indexOf","RangeError","location","input","init","request","isPrototypeOf","xhr","XMLHttpRequest","onload","options","head","getAllResponseHeaders","trim","split","header","key","shift","join","responseURL","getResponseHeader","body","responseText","onerror","ontimeout","open","method","credentials","withCredentials","responseType","setRequestHeader","send","polyfill","String","toLowerCase","next","consumed","bodyUsed","fileReaderReady","reader","result","readBlobAsArrayBuffer","FileReader","readAsArrayBuffer","_initBody","_bodyText","_bodyBlob","FormData","_bodyFormData","URLSearchParams","toString","ArrayBuffer","Error","rejected","text","readAsText","decode","json","JSON","parse","upcased","mode","toUpperCase","referrer","form","bytes","replace","decodeURIComponent","bodyInit","ok","createElement","createElementNS","testElement","classList","add","contains","createMethod","original","DOMTokenList","token","toggle","_toggle","force","view","elemCtrProto","Element","objCtr","strTrim","arrIndexOf","item","DOMEx","message","code","DOMException","checkTokenAndGetIndex","ClassList","elem","trimmedClasses","getAttribute","classes","_updateClassName","setAttribute","classListProto","classListGetter","tokens","l","updated","remove","index","splice","defineProperty","classListPropDesc","enumerable","configurable","number","__defineGetter__","rootObjectName","__GRN","u","readyStateQueue","moduleReadyStateQueue","j","modulePreparedQueue","modulesPrepared","passiveEventSupported","DOM_STATE_READY","MODULE_READY_STATE","processReadyStateQueue","handleRunCallback","scope","requestAnimationFrame","opts","awaitModulePrepared","Debug","writeConsoleMessage","LOG_LEVEL_INFO","readyState","search","log","bind","LOG_LEVEL_ERROR","writeConsoleObject","ready","moduleReady","moduleName","modulePrepared","userAgentSupportsPassiveEventListeners","r"],"mappings":"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","file":"Core.js","sourcesContent":["/**\n * @var {{\n *   __GRN: String,\n *   [rootInstanceName]: {\n *\n *   }\n * }} window\n */\n\n/** Polyfills **/\n/**\n * Polyfill Object.setPrototypeOf\n */\nObject.setPrototypeOf = Object.setPrototypeOf || function (obj, proto) {\n        obj.__proto__ = proto;\n        return obj;\n    };\n\n/**\n * Adds swipe event handlers for devices that use touch\n *\n * All events are fired on touch end, so when touch is released\n *\n * swipeLeft - Swipe left event\n * swipeRight - Swipe right event\n * swipeUp - Swipe up event\n * swipeDown - Swipe down event\n */\n(function (doc) {\n    /**\n     * Bool state if event should be fired on touch end\n     *\n     * @type {boolean}\n     */\n    var fireEvent      = true,\n\n        /**\n         * Int pixel threshold to allow swipe event after\n         *\n         * @type {number}\n         */\n        pixelThreshold = 80,\n\n        /**\n         * The coordinates of the touch start\n         *\n         * @type {{x: number, y: number}}\n         */\n        startingPoint  = {\n            x: 0, y: 0\n        },\n\n        /**\n         * The coordinates of the touch end\n         *\n         * @type {{x: number, y: number}}\n         */\n        endingPoint    = {\n            x: 0, y: 0\n        },\n\n        /**\n         * TObject map of touch event bindings\n         *\n         * @type {{x: number, y: number}}\n         */\n        touch          = {\n            /**\n             * touchStart event handler\n             *\n             * @param event\n             */\n            touchstart: function (event) {\n                startingPoint = {\n                    x: event.touches[0].pageX, y: event.touches[0].pageY\n                }\n            },\n\n            /**\n             * touchMove event handler\n             *\n             * @param event\n             */\n            touchmove: function (event) {\n                fireEvent = false;\n\n                endingPoint = {\n                    x: event.touches[0].pageX, y: event.touches[0].pageY\n                }\n            },\n\n            /**\n             * touchEnd event handler\n             *\n             * @param event\n             */\n            touchend: function (event) {\n                if (fireEvent) {\n                    createEvent(event, 'fc')\n                } else {\n                    var x                                             = endingPoint.x - startingPoint.x, roundedX = Math.abs(x),\n                        y = endingPoint.y - startingPoint.y, roundedY = Math.abs(y);\n\n                    if (Math.max(roundedX, roundedY) > pixelThreshold) {\n                        createEvent(event, (roundedX > roundedY ? (x < 0 ? 'swipeLeft' : 'swipeRight') : (y < 0 ? 'swipeUp' : 'swipeDown')));\n                    }\n                }\n\n                fireEvent = true\n            },\n\n            /**\n             * touchCancel event handler\n             *\n             * @param event\n             */\n            touchcancel: function (event) {\n                fireEvent = false\n            }\n        },\n\n        /**\n         * Init and run a custom event for the type of swipe we detected\n         *\n         * @param event\n         * @param name\n         * @returns {boolean}\n         */\n        createEvent    = function (event, name) {\n            var customEvent = document.createEvent(\"CustomEvent\");\n            customEvent.initCustomEvent(name, true, true, event.target);\n            event.target.dispatchEvent(customEvent);\n            customEvent = null;\n            return false\n        };\n\n    // Bind touch listeners\n    for (var a in touch) {\n        doc.addEventListener(a, touch[a], false);\n    }\n})(document);\n\n// window.Promise() polyfill\n(function (self) {\n    // Skip everything if we have the capability already\n    // FIX: IOS 10 has failed to get Fetch correct twice, so we are polyfilling over top of it until IOS 11\n    if (self.promise || ((/[Ii][Pp]hone/.test(window.navigator.userAgent) && /[Oo][Ss]\\s10_?/.test(window.navigator.userAgent)) || (/iPhone10,/i.test(window.navigator.userAgent)))) {\n        return;\n    }\n\n    // Store setTimeout reference so promise-polyfill will be unaffected by\n    // other code modifying setTimeout (like sinon.useFakeTimers())\n    var setTimeoutFunc = setTimeout;\n\n    function noop() {\n    }\n\n    // Polyfill for Function.prototype.bind\n    function bind(fn, thisArg) {\n        return function () {\n            fn.apply(thisArg, arguments);\n        };\n    }\n\n    function Promise(fn) {\n        if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');\n        if (typeof fn !== 'function') throw new TypeError('not a function');\n        this._state = 0;\n        this._handled = false;\n        this._value = undefined;\n        this._deferreds = [];\n\n        doResolve(fn, this);\n    }\n\n    function handle(self, deferred) {\n        while (self._state === 3) {\n            self = self._value;\n        }\n        if (self._state === 0) {\n            self._deferreds.push(deferred);\n            return;\n        }\n        self._handled = true;\n        Promise._immediateFn(function () {\n            var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n            if (cb === null) {\n                (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n                return;\n            }\n            var ret;\n            try {\n                ret = cb(self._value);\n            } catch (e) {\n                reject(deferred.promise, e);\n                return;\n            }\n            resolve(deferred.promise, ret);\n        });\n    }\n\n    function resolve(self, newValue) {\n        try {\n            // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n            if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.');\n            if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n                var then = newValue.then;\n                if (newValue instanceof Promise) {\n                    self._state = 3;\n                    self._value = newValue;\n                    finale(self);\n                    return;\n                } else if (typeof then === 'function') {\n                    doResolve(bind(then, newValue), self);\n                    return;\n                }\n            }\n            self._state = 1;\n            self._value = newValue;\n            finale(self);\n        } catch (e) {\n            reject(self, e);\n        }\n    }\n\n    function reject(self, newValue) {\n        self._state = 2;\n        self._value = newValue;\n        finale(self);\n    }\n\n    function finale(self) {\n        if (self._state === 2 && self._deferreds.length === 0) {\n            Promise._immediateFn(function () {\n                if (!self._handled) {\n                    Promise._unhandledRejectionFn(self._value);\n                }\n            });\n        }\n\n        for (var i = 0, len = self._deferreds.length; i < len; i++) {\n            handle(self, self._deferreds[i]);\n        }\n        self._deferreds = null;\n    }\n\n    function Handler(onFulfilled, onRejected, promise) {\n        this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n        this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n        this.promise = promise;\n    }\n\n    /**\n     * Take a potentially misbehaving resolver function and make sure\n     * onFulfilled and onRejected are only called once.\n     *\n     * Makes no guarantees about asynchrony.\n     */\n    function doResolve(fn, self) {\n        var done = false;\n        try {\n            fn(function (value) {\n                if (done) return;\n                done = true;\n                resolve(self, value);\n            }, function (reason) {\n                if (done) return;\n                done = true;\n                reject(self, reason);\n            });\n        } catch (ex) {\n            if (done) return;\n            done = true;\n            reject(self, ex);\n        }\n    }\n\n    Promise.prototype['catch'] = function (onRejected) {\n        return this.then(null, onRejected);\n    };\n\n    Promise.prototype.then = function (onFulfilled, onRejected) {\n        var prom = new (this.constructor)(noop);\n\n        handle(this, new Handler(onFulfilled, onRejected, prom));\n        return prom;\n    };\n\n    Promise.all = function (arr) {\n        var args = Array.prototype.slice.call(arr);\n\n        return new Promise(function (resolve, reject) {\n            if (args.length === 0) return resolve([]);\n            var remaining = args.length;\n\n            function res(i, val) {\n                try {\n                    if (val && (typeof val === 'object' || typeof val === 'function')) {\n                        var then = val.then;\n                        if (typeof then === 'function') {\n                            then.call(val, function (val) {\n                                res(i, val);\n                            }, reject);\n                            return;\n                        }\n                    }\n                    args[i] = val;\n                    if (--remaining === 0) {\n                        resolve(args);\n                    }\n                } catch (ex) {\n                    reject(ex);\n                }\n            }\n\n            for (var i = 0; i < args.length; i++) {\n                res(i, args[i]);\n            }\n        });\n    };\n\n    Promise.resolve = function (value) {\n        if (value && typeof value === 'object' && value.constructor === Promise) {\n            return value;\n        }\n\n        return new Promise(function (resolve) {\n            resolve(value);\n        });\n    };\n\n    Promise.reject = function (value) {\n        return new Promise(function (resolve, reject) {\n            reject(value);\n        });\n    };\n\n    Promise.race = function (values) {\n        return new Promise(function (resolve, reject) {\n            for (var i = 0, len = values.length; i < len; i++) {\n                values[i].then(resolve, reject);\n            }\n        });\n    };\n\n    // Use polyfill for setImmediate for performance gains\n    Promise._immediateFn = (typeof setImmediate === 'function' && function (fn) {\n            setImmediate(fn);\n        }) || function (fn) {\n            setTimeoutFunc(fn, 0);\n        };\n\n    Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n        if (typeof console !== 'undefined' && console) {\n            console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n        }\n    };\n\n    /**\n     * Set the immediate function to execute callbacks\n     * @param fn {function} Function to execute\n     * @deprecated\n     */\n    Promise._setImmediateFn = function _setImmediateFn(fn) {\n        Promise._immediateFn = fn;\n    };\n\n    /**\n     * Change the function to execute on unhandled rejection\n     * @param {function} fn Function to execute on unhandled rejection\n     * @deprecated\n     */\n    Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n        Promise._unhandledRejectionFn = fn;\n    };\n\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = Promise;\n    } else if (!self.Promise) {\n        self.Promise = Promise;\n    }\n\n})(this);\n\n// window.fetch polyfill\n(function (self) {\n    'use strict';\n\n    if (self.fetch) {\n        return\n    }\n\n    var support = {\n        searchParams: 'URLSearchParams' in self,\n        iterable:     'Symbol' in self && 'iterator' in Symbol,\n        blob:         'FileReader' in self && 'Blob' in self && (function () {\n            try {\n                new Blob();\n                return true\n            } catch (e) {\n                return false\n            }\n        })(),\n        formData:     'FormData' in self,\n        arrayBuffer:  'ArrayBuffer' in self\n    };\n\n    function normalizeName(name) {\n        if (typeof name !== 'string') {\n            name = String(name)\n        }\n        if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n            throw new TypeError('Invalid character in header field name')\n        }\n        return name.toLowerCase()\n    }\n\n    function normalizeValue(value) {\n        if (typeof value !== 'string') {\n            value = String(value)\n        }\n        return value\n    }\n\n    // Build a destructive iterator for the value list\n    function iteratorFor(items) {\n        var iterator = {\n            next: function () {\n                var value = items.shift();\n                return {done: value === undefined, value: value}\n            }\n        };\n\n        if (support.iterable) {\n            iterator[Symbol.iterator] = function () {\n                return iterator\n            }\n        }\n\n        return iterator\n    }\n\n    function Headers(headers) {\n        this.map = {};\n\n        if (headers instanceof Headers) {\n            headers.forEach(function (value, name) {\n                this.append(name, value)\n            }, this)\n\n        } else if (headers) {\n            Object.getOwnPropertyNames(headers).forEach(function (name) {\n                this.append(name, headers[name])\n            }, this)\n        }\n    }\n\n    Headers.prototype.append = function (name, value) {\n        name = normalizeName(name);\n        value = normalizeValue(value);\n        var list = this.map[name];\n        if (!list) {\n            list = [];\n            this.map[name] = list\n        }\n        list.push(value)\n    };\n\n    Headers.prototype['delete'] = function (name) {\n        delete this.map[normalizeName(name)]\n    };\n\n    Headers.prototype.get = function (name) {\n        var values = this.map[normalizeName(name)];\n        return values ? values[0] : null\n    };\n\n    Headers.prototype.getAll = function (name) {\n        return this.map[normalizeName(name)] || []\n    };\n\n    Headers.prototype.has = function (name) {\n        return this.map.hasOwnProperty(normalizeName(name))\n    };\n\n    Headers.prototype.set = function (name, value) {\n        this.map[normalizeName(name)] = [normalizeValue(value)]\n    };\n\n    Headers.prototype.forEach = function (callback, thisArg) {\n        Object.getOwnPropertyNames(this.map).forEach(function (name) {\n            this.map[name].forEach(function (value) {\n                callback.call(thisArg, value, name, this)\n            }, this)\n        }, this)\n    };\n\n    Headers.prototype.keys = function () {\n        var items = [];\n        this.forEach(function (value, name) {\n            items.push(name)\n        });\n        return iteratorFor(items)\n    };\n\n    Headers.prototype.values = function () {\n        var items = [];\n        this.forEach(function (value) {\n            items.push(value)\n        });\n        return iteratorFor(items)\n    };\n\n    Headers.prototype.entries = function () {\n        var items = [];\n        this.forEach(function (value, name) {\n            items.push([name, value])\n        });\n        return iteratorFor(items)\n    };\n\n    if (support.iterable) {\n        Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n    }\n\n    function consumed(body) {\n        if (body.bodyUsed) {\n            return Promise.reject(new TypeError('Already read'))\n        }\n        body.bodyUsed = true\n    }\n\n    function fileReaderReady(reader) {\n        return new Promise(function (resolve, reject) {\n            reader.onload = function () {\n                resolve(reader.result)\n            };\n            reader.onerror = function () {\n                reject(reader.error)\n            }\n        })\n    }\n\n    function readBlobAsArrayBuffer(blob) {\n        var reader = new FileReader();\n        reader.readAsArrayBuffer(blob);\n        return fileReaderReady(reader)\n    }\n\n    function readBlobAsText(blob) {\n        var reader = new FileReader();\n        reader.readAsText(blob);\n        return fileReaderReady(reader)\n    }\n\n    function Body() {\n        this.bodyUsed = false;\n\n        this._initBody = function (body) {\n            this._bodyInit = body;\n            if (typeof body === 'string') {\n                this._bodyText = body\n            } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n                this._bodyBlob = body\n            } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n                this._bodyFormData = body\n            } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n                this._bodyText = body.toString()\n            } else if (!body) {\n                this._bodyText = ''\n            } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n                // Only support ArrayBuffers for POST method.\n                // Receiving ArrayBuffers happens via Blobs, instead.\n            } else {\n                throw new Error('unsupported BodyInit type')\n            }\n\n            if (!this.headers.get('content-type')) {\n                if (typeof body === 'string') {\n                    this.headers.set('content-type', 'text/plain;charset=UTF-8')\n                } else if (this._bodyBlob && this._bodyBlob.type) {\n                    this.headers.set('content-type', this._bodyBlob.type)\n                } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n                    this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n                }\n            }\n        };\n\n        if (support.blob) {\n            this.blob = function () {\n                var rejected = consumed(this);\n                if (rejected) {\n                    return rejected\n                }\n\n                if (this._bodyBlob) {\n                    return Promise.resolve(this._bodyBlob)\n                } else if (this._bodyFormData) {\n                    throw new Error('could not read FormData body as blob')\n                } else {\n                    return Promise.resolve(new Blob([this._bodyText]))\n                }\n            };\n\n            this.arrayBuffer = function () {\n                return this.blob().then(readBlobAsArrayBuffer)\n            };\n\n            this.text = function () {\n                var rejected = consumed(this);\n                if (rejected) {\n                    return rejected\n                }\n\n                if (this._bodyBlob) {\n                    return readBlobAsText(this._bodyBlob)\n                } else if (this._bodyFormData) {\n                    throw new Error('could not read FormData body as text')\n                } else {\n                    return Promise.resolve(this._bodyText)\n                }\n            }\n        } else {\n            this.text = function () {\n                var rejected = consumed(this);\n                return rejected ? rejected : Promise.resolve(this._bodyText)\n            }\n        }\n\n        if (support.formData) {\n            this.formData = function () {\n                return this.text().then(decode)\n            }\n        }\n\n        this.json = function () {\n            return this.text().then(JSON.parse)\n        };\n\n        return this\n    }\n\n    // HTTP methods whose capitalization should be normalized\n    var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n    function normalizeMethod(method) {\n        var upcased = method.toUpperCase();\n        return (methods.indexOf(upcased) > -1) ? upcased : method\n    }\n\n    function Request(input, options) {\n        options = options || {};\n        var body = options.body;\n        if (Request.prototype.isPrototypeOf(input)) {\n            if (input.bodyUsed) {\n                throw new TypeError('Already read')\n            }\n            this.url = input.url;\n            this.credentials = input.credentials;\n            if (!options.headers) {\n                this.headers = new Headers(input.headers)\n            }\n            this.method = input.method;\n            this.mode = input.mode;\n            if (!body) {\n                body = input._bodyInit;\n                input.bodyUsed = true\n            }\n        } else {\n            this.url = input\n        }\n\n        this.credentials = options.credentials || this.credentials || 'omit';\n        if (options.headers || !this.headers) {\n            this.headers = new Headers(options.headers)\n        }\n        this.method = normalizeMethod(options.method || this.method || 'GET');\n        this.mode = options.mode || this.mode || null;\n        this.referrer = null;\n\n        if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n            throw new TypeError('Body not allowed for GET or HEAD requests')\n        }\n        this._initBody(body)\n    }\n\n    Request.prototype.clone = function () {\n        return new Request(this)\n    };\n\n    function decode(body) {\n        var form = new FormData();\n        body.trim().split('&').forEach(function (bytes) {\n            if (bytes) {\n                var split = bytes.split('=');\n                var name = split.shift().replace(/\\+/g, ' ');\n                var value = split.join('=').replace(/\\+/g, ' ');\n                form.append(decodeURIComponent(name), decodeURIComponent(value))\n            }\n        });\n        return form\n    }\n\n    function headers(xhr) {\n        var head = new Headers();\n        var pairs = (xhr.getAllResponseHeaders() || '').trim().split('\\n');\n        pairs.forEach(function (header) {\n            var split = header.trim().split(':');\n            var key = split.shift().trim();\n            var value = split.join(':').trim();\n            head.append(key, value)\n        });\n        return head\n    }\n\n    Body.call(Request.prototype);\n\n    function Response(bodyInit, options) {\n        if (!options) {\n            options = {}\n        }\n\n        this.type = 'default';\n        this.status = options.status;\n        this.ok = this.status >= 200 && this.status < 300;\n        this.statusText = options.statusText;\n        this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n        this.url = options.url || '';\n        this._initBody(bodyInit)\n    }\n\n    Body.call(Response.prototype);\n\n    Response.prototype.clone = function () {\n        return new Response(this._bodyInit, {\n            status: this.status, statusText: this.statusText, headers: new Headers(this.headers), url: this.url\n        })\n    };\n\n    Response.error = function () {\n        var response = new Response(null, {status: 0, statusText: ''});\n        response.type = 'error';\n        return response\n    };\n\n    var redirectStatuses = [301, 302, 303, 307, 308];\n\n    Response.redirect = function (url, status) {\n        if (redirectStatuses.indexOf(status) === -1) {\n            throw new RangeError('Invalid status code')\n        }\n\n        return new Response(null, {status: status, headers: {location: url}})\n    };\n\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n\n    self.fetch = function (input, init) {\n        return new Promise(function (resolve, reject) {\n            var request;\n            if (Request.prototype.isPrototypeOf(input) && !init) {\n                request = input\n            } else {\n                request = new Request(input, init)\n            }\n\n            var xhr = new XMLHttpRequest();\n\n            function responseURL() {\n                if ('responseURL' in xhr) {\n                    return xhr.responseURL\n                }\n\n                // Avoid security warnings on getResponseHeader when not allowed by CORS\n                if (/^X-Request-URL:/mi.test(xhr.getAllResponseHeaders())) {\n                    return xhr.getResponseHeader('X-Request-URL')\n                }\n\n                return;\n            }\n\n            xhr.onload = function () {\n                var options = {\n                    status: xhr.status, statusText: xhr.statusText, headers: headers(xhr), url: responseURL()\n                };\n                var body = 'response' in xhr ? xhr.response : xhr.responseText\n                resolve(new Response(body, options))\n            };\n\n            xhr.onerror = function () {\n                reject(new TypeError('Network request failed'))\n            };\n\n            xhr.ontimeout = function () {\n                reject(new TypeError('Network request failed'))\n            };\n\n            xhr.open(request.method, request.url, true);\n\n            if (request.credentials === 'include') {\n                xhr.withCredentials = true\n            }\n\n            if ('responseType' in xhr && support.blob) {\n                xhr.responseType = 'blob'\n            }\n\n            request.headers.forEach(function (value, name) {\n                xhr.setRequestHeader(name, value)\n            });\n\n            xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n        })\n    };\n    self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n\n/*\n * classList.js: Cross-browser full element.classList implementation.\n * 1.1.20170112\n *\n * By Eli Grey, http://eligrey.com\n * License: Dedicated to the public domain.\n *   See https://github.com/eligrey/classList.js/blob/master/LICENSE.md\n */\n\n/*global self, document, DOMException */\n\n/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */\n\nif (\"document\" in self) {\n\n    // Full polyfill for browsers with no classList support\n    // Including IE < Edge missing SVGElement.classList\n    if (!(\"classList\" in document.createElement(\"_\")) || document.createElementNS && !(\"classList\" in document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\"))) {\n\n        (function (view) {\n\n            \"use strict\";\n\n            if (!('Element' in view)) return;\n\n            var classListProp = \"classList\", protoProp = \"prototype\", elemCtrProto = view.Element[protoProp],\n                objCtr                                                             = Object, strTrim = String[protoProp].trim || function () {\n                        return this.replace(/^\\s+|\\s+$/g, \"\");\n                    }, arrIndexOf                                                  = Array[protoProp].indexOf || function (item) {\n                        var i = 0, len = this.length;\n                        for (; i < len; i++) {\n                            if (i in this && this[i] === item) {\n                                return i;\n                            }\n                        }\n                        return -1;\n                    }\n                // Vendors: please allow content code to instantiate DOMExceptions\n                , DOMEx                                                            = function (type, message) {\n                    this.name = type;\n                    this.code = DOMException[type];\n                    this.message = message;\n                }, checkTokenAndGetIndex                                           = function (classList, token) {\n                    if (token === \"\") {\n                        throw new DOMEx(\"SYNTAX_ERR\", \"An invalid or illegal string was specified\");\n                    }\n                    if (/\\s/.test(token)) {\n                        throw new DOMEx(\"INVALID_CHARACTER_ERR\", \"String contains an invalid character\");\n                    }\n                    return arrIndexOf.call(classList, token);\n                }, ClassList                                                       = function (elem) {\n                    var trimmedClasses                                                          = strTrim.call(elem.getAttribute(\"class\") || \"\"),\n                        classes = trimmedClasses ? trimmedClasses.split(/\\s+/) : [], i = 0, len = classes.length;\n                    for (; i < len; i++) {\n                        this.push(classes[i]);\n                    }\n                    this._updateClassName = function () {\n                        elem.setAttribute(\"class\", this.toString());\n                    };\n                }, classListProto                                                  = ClassList[protoProp] = [], classListGetter = function () {\n                    return new ClassList(this);\n                };\n            // Most DOMException implementations don't allow calling DOMException's toString()\n            // on non-DOMExceptions. Error's toString() is sufficient here.\n            DOMEx[protoProp] = Error[protoProp];\n            classListProto.item = function (i) {\n                return this[i] || null;\n            };\n            classListProto.contains = function (token) {\n                token += \"\";\n                return checkTokenAndGetIndex(this, token) !== -1;\n            };\n            classListProto.add = function () {\n                var tokens = arguments, i = 0, l = tokens.length, token, updated = false;\n                do {\n                    token = tokens[i] + \"\";\n                    if (checkTokenAndGetIndex(this, token) === -1) {\n                        this.push(token);\n                        updated = true;\n                    }\n                } while (++i < l);\n\n                if (updated) {\n                    this._updateClassName();\n                }\n            };\n            classListProto.remove = function () {\n                var tokens = arguments, i = 0, l = tokens.length, token, updated = false, index;\n                do {\n                    token = tokens[i] + \"\";\n                    index = checkTokenAndGetIndex(this, token);\n                    while (index !== -1) {\n                        this.splice(index, 1);\n                        updated = true;\n                        index = checkTokenAndGetIndex(this, token);\n                    }\n                } while (++i < l);\n\n                if (updated) {\n                    this._updateClassName();\n                }\n            };\n            classListProto.toggle = function (token, force) {\n                token += \"\";\n\n                var result = this.contains(token),\n                    method = result ? force !== true && \"remove\" : force !== false && \"add\";\n\n                if (method) {\n                    this[method](token);\n                }\n\n                if (force === true || force === false) {\n                    return force;\n                } else {\n                    return !result;\n                }\n            };\n            classListProto.toString = function () {\n                return this.join(\" \");\n            };\n\n            if (objCtr.defineProperty) {\n                var classListPropDesc = {\n                    get: classListGetter, enumerable: true, configurable: true\n                };\n                try {\n                    objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n                } catch (ex) { // IE 8 doesn't support enumerable:true\n                    // adding undefined to fight this issue https://github.com/eligrey/classList.js/issues/36\n                    // modernie IE8-MSW7 machine has IE8 8.0.6001.18702 and is affected\n                    if (ex.number === undefined || ex.number === -0x7FF5EC54) {\n                        classListPropDesc.enumerable = false;\n                        objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n                    }\n                }\n            } else if (objCtr[protoProp].__defineGetter__) {\n                elemCtrProto.__defineGetter__(classListProp, classListGetter);\n            }\n\n        }(self));\n\n    } else {\n        // There is full or partial native classList support, so just check if we need\n        // to normalize the add/remove and toggle APIs.\n\n        (function () {\n            \"use strict\";\n\n            var testElement = document.createElement(\"_\");\n\n            testElement.classList.add(\"c1\", \"c2\");\n\n            // Polyfill for IE 10/11 and Firefox <26, where classList.add and\n            // classList.remove exist but support only one argument at a time.\n            if (!testElement.classList.contains(\"c2\")) {\n                var createMethod = function (method) {\n                    var original = DOMTokenList.prototype[method];\n\n                    DOMTokenList.prototype[method] = function (token) {\n                        var i, len = arguments.length;\n\n                        for (i = 0; i < len; i++) {\n                            token = arguments[i];\n                            original.call(this, token);\n                        }\n                    };\n                };\n                createMethod('add');\n                createMethod('remove');\n            }\n\n            testElement.classList.toggle(\"c3\", false);\n\n            // Polyfill for IE 10 and Firefox <24, where classList.toggle does not\n            // support the second argument.\n            if (testElement.classList.contains(\"c3\")) {\n                var _toggle = DOMTokenList.prototype.toggle;\n\n                DOMTokenList.prototype.toggle = function (token, force) {\n                    if (1 in arguments && !this.contains(token) === !force) {\n                        return force;\n                    } else {\n                        return _toggle.call(this, token);\n                    }\n                };\n            }\n            testElement = null;\n        }());\n    }\n}\n\n/** CORE **/\n\n!(function(){\n    var rootObjectName = window.__GRN;\n\n    /**\n     * @type {{\n     *   handleRunCallback:                      Function,\n     *   ready:                                  Function,\n     *   moduleReady:                            Function,\n     *   awaitModulePrepared:                    Function,\n     *   modulePrepared:                         Function,\n     *   userAgentSupportsPassiveEventListeners: Function,\n     * }} window[rootObjectName]\n     */\n    window[rootObjectName] = (function() {\n        // Flag the initial upgrading runtime as upgrading so callbacks don't get lost in the abyss\n        if (window[rootObjectName]) {\n            window[rootObjectName].u = true;\n        }\n\n        /**\n         * @var {Array} readyStateQueue\n         */\n        var readyStateQueue = window[rootObjectName].i || [];\n\n        /**\n         * @var {Array} moduleReadyStateQueue\n         */\n        var moduleReadyStateQueue = window[rootObjectName].j || [];\n\n        /**\n         * @var {object} modulePreparedQueue\n         */\n        var modulePreparedQueue = {};\n\n        /**\n         * @var {Array} modulesPrepared\n         */\n        var modulesPrepared = [];\n\n        /**\n         * @var {boolean} passiveEventSupported\n         */\n        var passiveEventSupported = false;\n\n        /**\n         * @var {boolean} DOM_STATE_READY\n         */\n        var DOM_STATE_READY = false;\n\n        /**\n         * @var {boolean} MODULE_READY_STATE\n         */\n        var MODULE_READY_STATE = false;\n\n        /**\n         * @var {undefined} undefined\n         */\n        var undefined; // Stop people from being mean\n\n        var processReadyStateQueue = function() {\n            var i = 0;\n            var j = readyStateQueue.length;\n\n            for (i; i < j; i++) {\n                window[rootObjectName].handleRunCallback(readyStateQueue[i].callback, readyStateQueue[i].scope);\n            }\n\n            DOM_STATE_READY = true;\n\n            window.requestAnimationFrame(function() {\n                var i = 0;\n                var j = moduleReadyStateQueue.length;\n\n                for (i; i < j; i++) {\n                    window[rootObjectName].handleRunCallback(moduleReadyStateQueue[i].callback, moduleReadyStateQueue[i].scope)\n                }\n\n                MODULE_READY_STATE = true;\n            });\n        };\n\n        // Detect passive event listeners\n        try {\n          var opts = Object.defineProperty({}, 'passive', {\n            get: function() {\n                passiveEventSupported = true;\n            }\n          });\n          window.addEventListener('test', null, opts);\n        } catch (e) {}\n\n        // Check DOMState\n        window.requestAnimationFrame(function () {\n            window[rootObjectName].awaitModulePrepared('Debug', function() {\n                window[rootObjectName].Debug.writeConsoleMessage('Checking document interactive state', 'Core', window[rootObjectName].Debug.LOG_LEVEL_INFO);\n            });\n\n            if ((document.readyState === 'interactive') || (document.readyState === 'complete')) {\n                window[rootObjectName].awaitModulePrepared('Debug', function() {\n                    window[rootObjectName].Debug.writeConsoleMessage('Document was ready before init, running state queue on next frame', 'Core', window[rootObjectName].Debug.LOG_LEVEL_INFO);\n                });\n\n                window.requestAnimationFrame(processReadyStateQueue);\n            } else {\n                window[rootObjectName].awaitModulePrepared('Debug', function() {\n                    window[rootObjectName].Debug.writeConsoleMessage('Document still loading, registered DOMContentLoaded handler', 'Core', window[rootObjectName].Debug.LOG_LEVEL_INFO);\n                });\n\n                document.addEventListener('DOMContentLoaded', processReadyStateQueue);\n            }\n        });\n\n        // Print the debug notice\n        if (window.location.search.search(/(\\?|&)debug(=|&|$)/) === -1) {\n            try {\n                console.log('Developer console disengaged for frame [' + window.location + '].  Go to [' + window.location + ((window.location.search) ? '&' : '?') + 'debug] to engage developer console');\n            } catch (e) { /* Silent since console log is required for dev consoles to start with */ }\n        }\n\n        return {\n            /**\n             * Safely runs a callback\n             *\n             * @param {function} callback - The callback to run safely, logging if there is an error\n             * @param {object} scope - The object scope to bind for the callback when run\n             */\n            handleRunCallback: function(callback, scope) {\n                if (!scope) {\n                    scope = window;\n                }\n\n                try {\n                    callback.bind(scope);\n\n                    callback();\n                } catch (e) {\n                    window[rootObjectName].awaitModulePrepared('Debug', function(e, callback, scope) {\n                        window[rootObjectName].Debug.writeConsoleMessage('An unexpected error happened while trying to run the callback requested', 'Core', window[rootObjectName].Debug.LOG_LEVEL_ERROR);\n                        window[rootObjectName].Debug.writeConsoleObject(e, 'Core', window[rootObjectName].Debug.LOG_LEVEL_ERROR);\n                        window[rootObjectName].Debug.writeConsoleObject(callback, 'Core', window[rootObjectName].Debug.LOG_LEVEL_ERROR);\n                        window[rootObjectName].Debug.writeConsoleObject(scope, 'Core', window[rootObjectName].Debug.LOG_LEVEL_ERROR);\n                    }.bind(this, e, callback, scope));\n                }\n            }.bind(this),\n\n            /**\n             * Registers a callback to be run when the DOM is ready, or immediately if the DOM is already prepared\n             *\n             * @param {function} callback - The callback to run safely, logging if there is an error\n             * @param {object} scope - The object scope to bind for the callback when run\n             */\n            ready: function(callback, scope){\n                if (typeof(callback) !== 'function') {\n                    window[rootObjectName].awaitModulePrepared('Debug', function(callback, scope) {\n                        window[rootObjectName].Debug.writeConsoleObject(callback, 'Core', window[rootObjectName].Debug.LOG_LEVEL_ERROR);\n                        window[rootObjectName].Debug.writeConsoleObject(scope, 'Core', window[rootObjectName].Debug.LOG_LEVEL_ERROR);\n                    }.bind(this, callback, scope));\n\n                    throw new Error('Ready state callbacks MUST be a valid function');\n                }\n\n                if (DOM_STATE_READY) {\n                    window[rootObjectName].handleRunCallback(callback, scope);\n                } else {\n                    readyStateQueue.push({\n                        callback: callback,\n                        scope: scope || this,\n                    });\n                }\n            }.bind(this),\n\n            /**\n             * Registers a callback to be run when modules can begin operating\n             *\n             * @param {function} callback - The callback to run safely, logging if there is an error\n             * @param {object} scope - The object scope to bind for the callback when run\n             */\n            moduleReady: function(callback, scope) {\n                if (typeof(callback) !== 'function') {\n                    throw new Error('Module ready state callbacks MUST be a valid function');\n                }\n\n                if (MODULE_READY_STATE) {\n                    window[rootObjectName].handleRunCallback(callback, scope);\n                } else {\n                    moduleReadyStateQueue.push({\n                        callback: callback,\n                        scope: scope || this,\n                    });\n                }\n            }.bind(this),\n\n            /**\n             * Registers a callback to be run when modules can begin operating\n             *\n             * @param {string} moduleName - The name of the module to await for\n             * @param {function} callback - The callback to run safely, logging if there is an error\n             * @param {=object} scope - The object scope to bind for the callback when run\n             */\n            awaitModulePrepared: function(moduleName, callback, scope) {\n                if (typeof(callback) !== 'function') {\n                    throw new Error('Module prepared callbacks MUST be a valid function');\n                }\n\n                if (!scope) {\n                    scope = window;\n                }\n\n                if (modulesPrepared.indexOf(moduleName) > -1) {\n                    window[rootObjectName].handleRunCallback(callback, scope);\n                } else {\n                    if (!modulePreparedQueue[moduleName]) {\n                        modulePreparedQueue[moduleName] = [];\n                    }\n\n                    modulePreparedQueue[moduleName].push({\n                        callback: callback,\n                        scope: scope,\n                    });\n                }\n            }.bind(this),\n\n            /**\n             * Registers that a module has progressed far enough to be usable in the runtime\n             *\n             * @param {string} moduleName - The name of the module that is now prepared\n             */\n            modulePrepared: function(moduleName) {\n                if (modulesPrepared.indexOf(moduleName) === -1) {\n                    // Register the module first so we don't run into a chicken and egg scenario\n                    modulesPrepared.push(moduleName);\n\n                    window[rootObjectName].awaitModulePrepared('Debug', function() {\n                        window[rootObjectName].Debug.writeConsoleMessage('Module [' + moduleName + '] has registered as prepared', 'Core', window[rootObjectName].Debug.LOG_LEVEL_INFO);\n                    }.bind(this, moduleName));\n\n                    if (typeof(modulePreparedQueue[moduleName]) !== 'undefined') {\n                        var i = 0;\n                        var j = modulePreparedQueue[moduleName].length;\n\n                        for (i; i < j; i++) {\n                            window[rootObjectName].handleRunCallback(modulePreparedQueue[moduleName][i].callback, modulePreparedQueue[moduleName][i].scope)\n                        }\n                    }\n                }\n            }.bind(this),\n\n            /**\n             * Returns if passive event listener support was detected\n             *\n             * @return {bool}\n             */\n            userAgentSupportsPassiveEventListeners: function() {\n                return passiveEventSupported;\n            }.bind(this),\n        }\n    }((window[rootObjectName] && window[rootObjectName].r) ? window[rootObjectName].r :[]));\n\n    window[rootObjectName].awaitModulePrepared('Debug', function() {\n        window[rootObjectName].Debug.writeConsoleMessage('Core systems upgrade completed', 'Core', window[rootObjectName].Debug.LOG_LEVEL_INFO);\n        window[rootObjectName].Debug.writeConsoleMessage('Core Systems and modules bound to root name [' + rootObjectName + ']', 'Core', window[rootObjectName].Debug.LOG_LEVEL_INFO);\n    });\n}());\n"]}