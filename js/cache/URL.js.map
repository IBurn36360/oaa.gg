{"version":3,"sources":["URL.js"],"names":["rootObjectName","window","__GRN","ready","URL","keyValuePair","searchParams","anchorParams","handleDecodeParam","value","newValue","decodeURIComponent","parts","location","search","replace","split","i","j","length","indexOf","hash","searchParamExists","param","hasOwnProperty","bind","this","searchParamValue","anchorParamExists","anchorParamValue","modulePrepared"],"mappings":"CAAE,WACE,IAAIA,EAAiBC,OAAOC,MAE5BD,OAAOD,GAAgBG,MAAM,WAWzBF,OAAOD,GAAgBI,IAAO,WAqB1B,IApBA,IAgBIC,EAhBAC,KACAC,KAEAC,EAAoB,SAASC,GAG7B,IAFA,IAAIC,EAAWC,mBAAmBF,GAE3BC,IAAaD,GAChBA,EAAQC,EAERA,EAAWC,mBAAmBF,GAGlC,OAAOC,GAGPE,EAAQX,OAAOY,SAASC,OAAOC,QAAQ,MAAO,IAAIC,MAAM,KAExDC,EAAI,EACJC,EAAIN,EAAMO,OAENF,EAAIC,EAAGD,IACPL,EAAMK,GAAGG,QAAQ,MAAQ,GACzBf,EAAeO,EAAMK,GAAGD,MAAM,MAEb,GACbV,EAAaD,EAAa,IAAMG,EAAkBH,EAAa,IAE/DC,EAAaD,EAAa,IAAM,KAGpCC,EAAaM,EAAMK,IAAM,KAQjC,IAHAA,EAAI,EACJC,GAFAN,EAAQX,OAAOY,SAASQ,KAAKN,QAAQ,KAAM,IAAIC,MAAM,MAE3CG,OAEFF,EAAIC,EAAGD,IACPL,EAAMK,GAAGG,QAAQ,MAAQ,GACzBf,EAAeO,EAAMK,GAAGD,MAAM,KAE1BT,EAAa,GACbD,EAAaD,EAAa,IAAMG,EAAkBH,EAAa,IAE/DE,EAAaF,EAAa,IAAM,MAGpCE,EAAaK,EAAMK,IAAM,KAIjC,OACIX,mBACI,OAAOA,GAEXgB,kBAAmB,SAASC,GACxB,OAAOjB,EAAakB,eAAeD,IACrCE,KAAKC,MACPC,iBAAkB,SAASJ,GACvB,OAAOjB,EAAaiB,IACtBE,KAAKC,MAGPnB,mBACI,OAAOA,GAEXqB,kBAAmB,SAASL,GACxB,OAAOhB,EAAaiB,eAAeD,IACrCE,KAAKC,MACPG,iBAAkB,SAASN,GACvB,OAAOhB,EAAagB,IACtBE,KAAKC,OAzEc,GA6E7BzB,OAAOD,GAAgB8B,eAAe,SA3F7C","file":"URL.js","sourcesContent":["!(function() {\n    var rootObjectName = window.__GRN;\n\n    window[rootObjectName].ready(function() {\n        /**\n         * @type {{\n         *   searchParams:      Function,\n         *   searchParamExists: Function,\n         *   searchParamValue:  Function,\n         *   anchorParams:      Function,\n         *   anchorParamExists: Function,\n         *   anchorParamValue:  Function,\n         * }} window[rootObjectName].URL\n         */\n        window[rootObjectName].URL = (function () {\n            var searchParams = {};\n            var anchorParams   = {};\n\n            var handleDecodeParam = function(value) {\n                var newValue = decodeURIComponent(value);\n\n                while (newValue !== value) {\n                    value = newValue;\n\n                    newValue = decodeURIComponent(value);\n                }\n\n                return newValue;\n            };\n\n            var parts = window.location.search.replace(/^\\?/, '').split('&');\n            var keyValuePair;\n            var i = 0;\n            var j = parts.length;\n\n            for (i; i < j; i++) {\n                if (parts[i].indexOf('=') > -1) {\n                    keyValuePair = parts[i].split('=');\n\n                    if (keyValuePair[1]) {\n                        searchParams[keyValuePair[0]] = handleDecodeParam(keyValuePair[1]);\n                    } else {\n                        searchParams[keyValuePair[0]] = null;\n                    }\n                } else {\n                    searchParams[parts[i]] = null;\n                }\n            }\n\n            parts = window.location.hash.replace(/^#/, '').split('&');\n            i = 0;\n            j = parts.length;\n\n            for (i; i < j; i++) {\n                if (parts[i].indexOf('=') > -1) {\n                    keyValuePair = parts[i].split('=');\n\n                    if (anchorParams[1]) {\n                        searchParams[keyValuePair[0]] = handleDecodeParam(keyValuePair[1]);\n                    } else {\n                        anchorParams[keyValuePair[0]] = null;\n                    }\n                } else {\n                    anchorParams[parts[i]] = null;\n                }\n            }\n\n            return {\n                get searchParams() {\n                    return searchParams;\n                },\n                searchParamExists: function(param) {\n                    return searchParams.hasOwnProperty(param);\n                }.bind(this),\n                searchParamValue: function(param) {\n                    return searchParams[param];\n                }.bind(this),\n\n\n                get anchorParams() {\n                    return anchorParams;\n                },\n                anchorParamExists: function(param) {\n                    return anchorParams.hasOwnProperty(param);\n                }.bind(this),\n                anchorParamValue: function(param) {\n                    return anchorParams[param];\n                }.bind(this),\n            }\n        }());\n\n        window[rootObjectName].modulePrepared('URL');\n    });\n}());\n"]}