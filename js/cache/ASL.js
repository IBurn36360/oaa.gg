!function(){var e=window.__GRN;window[e].ready(function(){var n,t,o,r,i,l,a,s;window[e].ASL=(n=[],t=!1,o=!1,r=!1,i=function(){t||(t=!0,window.requestAnimationFrame(a))},l=function(){o||(o=!0,window.requestAnimationFrame(s))},a=function(){for(var e,o,a=window.innerHeight,s=window.pageYOffset,c=0,d=n.length;c<d;c++)e=(o=n[c]).threshold,o.lazyProps.threshTop<=s+(a+a*e)&&o.lazyProps.threshBottom>=s-a*e&&(o.scrollCallback&&o.scrollCallback(o.$element),n.splice(c,1),c--,d--);n.length||(window.removeEventListener("scroll",i),window.removeEventListener("resize",l),r=!1),t=!1},s=function(){for(var e,t=0,r=n.length,i=window.pageYOffset;t<r;t++)n[t].$element?(e=n[t].$element.getBoundingClientRect(),n[t].lazyProps.threshTop=parseInt(e.top)+i,n[t].lazyProps.threshBottom=parseInt(e.bottom)+i):(n.splice(t,1),t--,r--);o=!1,a()},{_scheduleAnimationCheck:function(){i()},_scheduleResizeRecalculation:function(){l()},registerScrollCallback:function(e,t,o){if(e instanceof Element&&"function"==typeof t){var a=e.getBoundingClientRect(),s=window.pageYOffset;return n.push({$element:e,lazyProps:{threshTop:parseInt(a.top)+s,threshBottom:parseInt(a.bottom)+s},threshold:o||.5,scrollCallback:t}),r||(window.addEventListener("scroll",i),window.addEventListener("resize",l),r=!0),i(),!0}throw new Error("Must provide a valid element and callback for lazy loader")},registerScrollContainer:function(n,t){if(n instanceof Node)return n.addEventListener("scroll",window[e].ASL._scheduleAnimationCheck),n.addEventListener("resize",window[e].ASL._scheduleResizeRecalculation),t&&n.addEventListener("scroll",window[e].ASL._scheduleResizeRecalculation),!0;throw new TypeError("Scroll Container Node must be instance of node")},getLazyMap:function(){return n}}),window[e].modulePrepared("ASL")})}();
//# sourceMappingURL=ASL.js.map
